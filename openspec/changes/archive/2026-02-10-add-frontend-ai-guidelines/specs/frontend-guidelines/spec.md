# frontend-guidelines Specification (Delta)

## 新增需求
### 需求：前端技术栈约束
前端必须使用以下技术栈与组件体系：
- React + TypeScript
- Vite
- Mantine（唯一 UI 组件库）
- @tabler/icons-react

并禁止使用：
- Ant Design / Material UI / Bootstrap / Chakra UI
- styled-components
- 混用其他 CSS-in-JS 体系

#### 场景：引入前端依赖
- **当** 引入新的前端依赖或组件库
- **那么** 必须满足上述技术栈约束，且不得引入禁止项

### 需求：Wails 前后端关系约束
前端必须仅作为展示层，所有系统数据必须来自 Wails Backend API：
- 前端不得模拟系统状态
- 前端不得包含业务逻辑判断
- 仅展示“事实”，不推断“结论”

#### 场景：展示系统状态
- **当** 前端展示系统状态
- **那么** 必须来自 backend API 且不在前端推断业务结论

### 需求：前端目录结构约束
前端目录必须遵循以下结构：
```
frontend/
├─ public/
├─ src/
│  ├─ app/
│  ├─ pages/
│  ├─ components/
│  ├─ hooks/
│  ├─ services/
│  ├─ styles/
│  ├─ types/
│  └─ main.tsx
```

#### 场景：新增前端文件
- **当** 新增前端文件或目录
- **那么** 必须放置在规定目录结构中

### 需求：UI 设计约束（Mantine）
前端 UI 设计必须符合以下要求：
- 欧美桌面工具风格
- 低信息密度
- 大留白
- 明确层级
- 单一主操作

并必须使用以下组件：
- AppShell
- Stack / Group / Box

禁止：
- div + className 布局
- 手写颜色值
- 覆盖组件内部样式

#### 场景：构建界面布局
- **当** 构建界面布局
- **那么** 必须使用 Mantine 组件与布局约束，且不得使用禁止项

### 需求：状态与数据约束
- 所有数据必须来自 services/*
- services 必须仅调用 Wails API
- 禁止缓存关键系统状态

#### 场景：新增数据获取逻辑
- **当** 新增数据获取逻辑
- **那么** 必须通过 services 调用 Wails API 且不得缓存关键系统状态

### 需求：错误与异常处理
- 必须使用 Mantine Alert
- 错误文本必须来自 backend
- 禁止吞错或美化错误

#### 场景：前端展示错误信息
- **当** 前端展示错误信息
- **那么** 必须使用 Mantine Alert 且错误文本来自 backend

### 需求：AI 生成代码原则
必须：
- 遵循目录结构
- 最小可用实现
- 不假设不存在的 API

禁止：
- 过度封装
- 提前引入状态管理
- 装饰性 UI

#### 场景：AI 生成或修改前端代码
- **当** 生成或修改前端代码
- **那么** 必须遵循上述原则与禁止项

### 需求：最高优先级规则
本项目必须以桌面系统基础设施产品定位为最高优先级，不是营销网站或后台管理系统。

#### 场景：设计前端界面
- **当** 设计前端界面与交互
- **那么** 必须以桌面系统基础设施产品定位为最高优先级
