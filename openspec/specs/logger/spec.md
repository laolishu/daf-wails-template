# logger Specification

## Purpose
TBD - created by archiving change add-logger-module. Update Purpose after archive.
## 需求
### 需求：日志模块初始化
系统必须提供 core/logger 模块，使用 Go 标准库 slog 作为日志 API，并提供初始化入口以接收运行时参数。

#### 场景：应用初始化日志模块
- **当** 应用启动并完成 core/config 加载
- **那么** 必须由应用层调用 logger 初始化入口并传入日志目录、日志级别与保留天数

### 需求：按日期分割日志文件
日志输出必须按日期分割为每日一份文件：
- 文件名格式为 YYYY-MM-DD.log
- 使用本地时区确定日期边界

#### 场景：跨天写入日志
- **当** 日志写入跨越日期边界
- **那么** 必须切换到当日的日志文件并继续写入

### 需求：日志保留策略
日志模块必须支持按天数保留策略，超过保留天数的日志文件需要清理。

#### 场景：初始化时清理历史日志
- **当** logger 初始化时
- **那么** 必须清理日志目录中超过保留天数的 YYYY-MM-DD.log 文件

### 需求：输出到文件与控制台
日志必须同时输出到文件与控制台，且输出级别一致。

#### 场景：输出目标一致
- **当** logger 记录日志
- **那么** 必须同时输出到文件与控制台，并使用相同的日志级别阈值

